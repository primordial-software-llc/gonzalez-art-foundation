@{
    ViewBag.Title = "Image Viewer";
    Layout = null;
}
<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>@ViewBag.Title - Digital Art Gallery</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/jquery")
    <style>
        
        html, body
        {
            height: 100%;
        }

        body
        {
            background-color: #EEE;
        }

        #slideshow-start
        {
            cursor: pointer;
        }

        #slideshow-player
        {
            text-align: center;
            height: 8%;
        }

        #slideshow-player > img
        {
            cursor: pointer;
        }

        #slideshow-player > img
        {
            margin-left: 10px;
            margin-right: 10px;
        }

        #slideshow-interval
        {
            width: 30px;
        }

        #slideshow-image-container
        {
            height: 92%;
            text-align: center;
            background-repeat: no-repeat;
            background-size: auto 100%;
            background-position: center top;
            background-attachment: fixed;
        }
    </style>
    <script>
        var slideshowTimer;

        function getImageUrl(item) {
            return 'http://www.the-athenaeum.org/art/display_image.php?id=' + item.imageId;
        }

        function showCurrentImage() {
            var slideshowItems = JSON.parse(localStorage.getItem('slideshowData'));
            var slideshowIndex = parseInt(localStorage.getItem("slideshowIndex"));
            var currentImage = slideshowItems[slideshowIndex];
            $('#slideshow-index').html(slideshowIndex + 1);
            $('#slideshow-count').html(slideshowItems.length);
            $('#slideshow-image-container').css('background-image', 'url(' + getImageUrl(currentImage) + ')');

            $('#slideshow-image-info').html(currentImage.name + ' (' + currentImage.date + ') by ' + currentImage.originalArtist + ' ' +
                ' Source ' + '<a target="_blank" href="http://www.the-athenaeum.org/art/detail.php?ID=' + currentImage.pageId + '">' + currentImage.source + '</a>');
        }

        function previouseImage() {
            var slideshowIndex = parseInt(localStorage.getItem("slideshowIndex", 0));
            localStorage.setItem("slideshowIndex", slideshowIndex - 1);
            showCurrentImage();
        }

        function nextImage() {
            var slideshowIndex = parseInt(localStorage.getItem("slideshowIndex", 0));
            localStorage.setItem("slideshowIndex", slideshowIndex + 1);
            showCurrentImage();
        }

        function pauseSlideshow() {
            clearInterval(slideshowTimer);
            $('#slideshow-pause').hide();
            $('#slideshow-play').show();
        }

        $(document).ready(function () {
            showCurrentImage();

            $('#slideshow-previous').click(function() {
                previouseImage();
                pauseSlideshow();
            });

            $('#slideshow-next').click(function() {
                nextImage();
                pauseSlideshow();
            });

            var defaultInterval = 6;
            $('#slideshow-interval').val(defaultInterval);
            $('#slideshow-pause').hide();
            $('#slideshow-play').click(function() {
                function slideshowTimerAction() {
                    nextImage();
                }

                var intervalInMs = parseFloat($('#slideshow-interval').val()) * 1000;
                console.log(intervalInMs);
                slideshowTimer = setInterval(slideshowTimerAction, intervalInMs);
                $('#slideshow-pause').show();
                $('#slideshow-play').hide();
            });

            $('#slideshow-pause').click(function() {
                pauseSlideshow();
            });
        });

    </script>
</head>
<body>
    <div id="slideshow-image-container">
    </div>
    <div id="slideshow-player">
        <div id="slideshow-image-info"></div>
        <img id="slideshow-previous" alt="Previous" title="Previous" src="/Images/Glyphicons/glyphicons-173-rewind.png">
        <img id="slideshow-pause" alt="Pause" title="Pause" src="/Images/Glyphicons/glyphicons-175-pause.png">
        <img id="slideshow-play" alt="Play" title="Play" src="/Images/Glyphicons/glyphicons-174-play.png">
        <img id="slideshow-next" alt="Next" title="Next" src="/Images/Glyphicons/glyphicons-177-forward.png">
        <label>Interval in Seconds: <input id="slideshow-interval"/></label>
        Viewing Image <span id="slideshow-index"></span> of <span id="slideshow-count"></span>
    </div>
</body>
</html>
